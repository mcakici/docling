networks:
  coolify:
    external: true
    name: coolify
services:
  docling:
    build: .
    container_name: docling-tesseract-tur
    ports:
      - "9881:5001"          # host:container
    environment:
      - DOCLING_SERVE_ENABLE_UI=1
      - OMP_NUM_THREADS=4
      - TESSDATA_PREFIX=/usr/share/tesseract/tessdata/
    volumes:
      - ./:/workspace
    working_dir: /workspace
    restart: unless-stopped
    networks:
      - coolify

  doc-converter:
    build: ./doc_converter
    container_name: doc-converter
    ports:
      - "9882:8000"
    restart: unless-stopped
    networks:
      - coolify
    # volume yok, sadece /tmp kullanıyor → host'ı kirletmiyor